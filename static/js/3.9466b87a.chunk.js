(this["webpackJsonpsocial-network2"]=this["webpackJsonpsocial-network2"]||[]).push([[3],{385:function(e,t,c){e.exports={description:"ProfileInfo_description__1FWdy",mainPhoto:"ProfileInfo_mainPhoto__1uFrv"}},386:function(e,t,c){e.exports={myPosts:"MyPosts_myPosts__1woWL",post:"MyPosts_post__1V8Cz"}},388:function(e,t,c){"use strict";c.r(t);var n=c(7),s=c(111),o=c(112),a=c(116),r=c(115),i=c(2),l=c(0),u=c.n(l),j=c(385),d=c.n(j),b=c(73),p=c(202),h=function(e){var t=Object(l.useState)(!1),c=Object(p.a)(t,2),n=c[0],s=c[1],o=Object(l.useState)(""),a=Object(p.a)(o,2),r=a[0],u=a[1];Object(l.useEffect)((function(){u(e.status)}),[e.status]);return Object(i.jsx)("div",{children:n?Object(i.jsx)("div",{children:Object(i.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){s(!1),e.updateStatus(r)},value:r})}):Object(i.jsxs)("div",{children:["Status: ",Object(i.jsx)("span",{onDoubleClick:function(){s(!0)},children:e.status||"No status"})]})})},f=c(179),O=c(201),m=c(52),x=c(88),v=c.n(x),g=Object(O.a)({form:"Edit profile"})((function(e){var t=e.handleSubmit,c=e.error,n=e.profile;return Object(i.jsx)("div",{children:Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsx)("div",{children:c&&Object(i.jsx)("div",{className:v.a.commonError,children:c})}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Full name:"})," ",Object(m.c)("fullName","Full name",m.a)]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"About me:"})," ",Object(m.c)("aboutMe","Some information about you",m.a)]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Looking for a job:"})," ",Object(m.c)("lookingForAJob",null,m.a,[],"checkbox")]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Looking for a job(Description):"})," ",Object(m.c)("lookingForAJobDescription","Description about job",m.b)]}),Object(i.jsxs)("div",{children:["Contacts:",Object.keys(n.contacts).map((function(e){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("b",{children:[e,": "]}),Object(m.c)("contacts.".concat(e),"".concat(e),m.a)]})}))]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{children:"Save"})})]})})})),P=c(26),y=c(374),C=(c(217),function(e){var t=e.profile,c=e.status,n=e.updateStatus,s=e.isOwner,o=e.changePhoto,a=e.editProfileDataTC,r=e.changeProfileUpdateSuccessAC,u=Object(P.d)((function(e){return e.profilePage.profileUpdateSuccess})),j=Object(l.useRef)(null);if(!t)return Object(i.jsx)(b.a,{});return Object(i.jsx)("div",{className:d.a.profileInfo,children:Object(i.jsxs)("div",{className:d.a.description,children:[Object(i.jsx)("img",{src:t.photos.large||f.a,className:d.a.mainPhoto}),Object(i.jsx)("div",{children:s&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(y.a,{onClick:function(e){j.current&&j.current.click()},type:"primary",children:"Change photo"}),Object(i.jsx)("input",{type:"file",onChange:function(e){if(e.currentTarget.files){var t=e.currentTarget.files[0];o(t)}},ref:j,style:{visibility:"hidden"}})]})}),Object(i.jsx)(h,{status:c,updateStatus:n}),Object(i.jsx)("div",{children:u?Object(i.jsx)(g,{initialValues:t,onSubmit:function(e){a(e)},profile:t}):Object(i.jsx)(S,{profile:t,status:c,updateStatus:n,isOwner:s,changeEditMode:function(){r(!0)}})})]})})}),S=function(e){var t=e.profile,c=e.isOwner,n=e.changeEditMode;return t?Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["Full name: ",t.fullName]}),Object(i.jsxs)("div",{children:["\u041e\u0431\u043e \u043c\u043d\u0435:",t.AboutMe]}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{children:["looking for a job: ",t.lookingForAJob?"yes":"not"]}),t.lookingForAJob&&Object(i.jsxs)("div",{children:["My professional skills: ",t.lookingForAJobDescription]})]}),Object(i.jsx)(k,{contacts:t.contacts}),Object(i.jsx)("div",{children:c&&Object(i.jsx)(y.a,{type:"primary",onClick:n,children:"Edit profile info"})})]}):Object(i.jsx)(b.a,{})},k=function(e){var t=e.contacts;if(!t)return Object(i.jsx)(b.a,{});return Object(i.jsxs)("div",{children:["Contacts:",Object.keys(t).map((function(e){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("b",{children:[e,": "]}),(c=t,function(e){return c[e]})(e)]});var c}))]})},E=c(167),N=c(386),T=c.n(N),A=c(1),F=c(3),w=c(5),D=c.n(w),_=c(63),I=function(e,t){var c={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(c[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(c[n[s]]=e[n[s]])}return c},M=function(e){var t=e.actions,c=e.author,n=e.avatar,s=e.children,o=e.className,a=e.content,r=e.prefixCls,i=e.datetime,u=I(e,["actions","author","avatar","children","className","content","prefixCls","datetime"]),j=l.useContext(_.b),d=j.getPrefixCls,b=j.direction,p=d("comment",r),h=n?l.createElement("div",{className:"".concat(p,"-avatar")},"string"===typeof n?l.createElement("img",{src:n,alt:"comment-avatar"}):n):null,f=t&&t.length?l.createElement("ul",{className:"".concat(p,"-actions")},t.map((function(e,t){return l.createElement("li",{key:"action-".concat(t)},e)}))):null,O=(c||i)&&l.createElement("div",{className:"".concat(p,"-content-author")},c&&l.createElement("span",{className:"".concat(p,"-content-author-name")},c),i&&l.createElement("span",{className:"".concat(p,"-content-author-time")},i)),m=l.createElement("div",{className:"".concat(p,"-content")},O,l.createElement("div",{className:"".concat(p,"-content-detail")},a),f),x=D()(p,Object(F.a)({},"".concat(p,"-rtl"),"rtl"===b),o);return l.createElement("div",Object(A.a)({},u,{className:x}),l.createElement("div",{className:"".concat(p,"-inner")},h,m),s?function(e,t){return l.createElement("div",{className:D()("".concat(e,"-nested"))},t)}(p,s):null)},U=c(373);function J(e){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(M,{author:Object(i.jsx)("a",{children:"Han Solo"}),avatar:Object(i.jsx)(U.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",alt:"Han Solo"}),content:Object(i.jsx)("p",{children:e.message})})})}var z=c(160),L=c(113),B=u.a.memo((function(e){console.log("RENDER");var t=e.profilePage.posts.map((function(e){return Object(i.jsx)(J,{id:e.id,message:e.message,likesCount:e.likesCount})}));return Object(i.jsxs)("div",{className:T.a.myPosts,children:["My posts",Object(i.jsx)("div",{children:Object(i.jsx)(R,{onSubmit:function(t){e.addPost(t.newPostBody)}})}),t]})})),H=Object(L.a)(11),R=Object(O.a)({form:"MyPostForm"})((function(e){return Object(i.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(i.jsx)(z.a,{placeholder:"Enter your post",name:"newPostBody",component:m.b,validate:[L.b,H]}),Object(i.jsx)("button",{children:"Add post"})]})})),V=Object(P.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){e(Object(E.a)(t))}}}))(B),W=u.a.memo((function(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)(C,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,changePhoto:e.changePhoto,editProfileDataTC:e.editProfileDataTC,changeProfileUpdateSuccessAC:e.changeProfileUpdateSuccessAC}),Object(i.jsx)(V,{})]})})),X=c(21),q=c(19),Y=c(166),G=function(e){Object(a.a)(c,e);var t=Object(r.a)(c);function c(){return Object(s.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfileTC(e),this.props.getStatusTC(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(W,Object(n.a)(Object(n.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatusTC,changePhoto:this.props.changePhotoTC,editProfileDataTC:this.props.editProfileDataTC,changeProfileUpdateSuccessAC:this.props.changeProfileUpdateSuccessAC}))})}}]),c}(u.a.Component);t.default=Object(q.d)(Object(P.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth,isFetching:e.usersPage.isFetching}}),{getProfileTC:E.e,getStatusTC:E.f,updateStatusTC:E.h,changePhotoTC:E.b,editProfileDataTC:E.d,changeProfileUpdateSuccessAC:E.c}),X.g,Y.a)(G)}}]);
//# sourceMappingURL=3.9466b87a.chunk.js.map